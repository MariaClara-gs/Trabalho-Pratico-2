const dados = {"receitas": [
    {
        "id": 1,
        "titulo": "Bolo de Cenoura",
        "descricao": "Um clássico fofinho com cobertura de chocolate.",
        "ocasiao": "Perfeito para o café da manhã ou para um lanche da tarde.",
        "prepTime": "50 minutos",
        "dificuldade": "Média",
        "images": [
            { "id": 1, src: "assets/img/bolo-de-cenoura1.jpg", "legenda": "Bolo de cenoura recém-assado" },
            { "id": 2, src: "assets/img/bolo-de-cenoura2.jpg", "legenda": "Fatia servida com cobertura" },
            { "id": 3, src: "assets/img/bolo-de-cenoura3.jpg", "legenda": "Massa no liquidificador" },
            { "id": 4, src: "assets/img/bolo-de-cenoura4.jpg", "legenda": "Ganache de chocolate brilhante" }
        ],
        "ingredientes": [
        "3 cenouras médias",
        "3 ovos",
        "1 xícara de óleo",
        "2 xícaras de açúcar",
        "2 ½ xícaras de farinha de trigo",
        "1 colher (sopa) de fermento"
      ],
"preparo": [
    "Preaqueça o forno a 180 °C e unte uma forma.",
    "No liquidificador, bata as cenouras, os ovos e o óleo.",
    "Misture o açúcar e a farinha peneirada à massa.",
    "Incorpore o fermento delicadamente e despeje na forma.",
    "Asse por 40–45 minutos ou até o palito sair limpo.",
    "Prepare a cobertura: derreta chocolate em pó, manteiga e leite até engrossar e espalhe sobre o bolo morno."
]
    },
{
    "id": 2,
        "titulo": "Lasanha à Bolonhesa",
            "descricao": "Camadas deliciosas de carne e queijo.",
                "ocasiao": "Ideal para um almoço de família.",
                    "prepTime": "1h 15 minutos",
                        "dificuldade": "Média",
                            "images": [
                                { "id": 1, src: "assets/img/lasanha-a-bolonhesa1.jpg", "legenda": "Pedaço da Lasanha já servida" },
                                { "id": 2, src: "assets/img/lasanha-a-bolonhesa2.jpg", "legenda": "Camadas de queijo e molho" },
                                { "id": 3, src: "assets/img/lasanha-a-bolonhesa3.jpg", "legenda": "Fatia de lasanha com queijo em cima" },
                                { "id": 4, src: "assets/img/lasanha-a-bolonesa4.jpg", "legenda": "Fatia servida!" }
                            ],
                                "ingredientes": [
                                    "Massa de lasanha pré-cozida",
                                    "500g de carne moída",
                                    "1 lata de molho de tomate",
                                    "300g de presunto",
                                    "300g de mussarela",
                                    "1 cebola, alho, sal e orégano a gosto"
                                ],
                                    "preparo": [
                                        "Refogue a carne com cebola e alho até dourar.",
                                        "Adicione o molho de tomate e deixe apurar por 5 minutos.",
                                        "Monte camadas: massa, molho, presunto e queijo.",
                                        "Repita até terminar os ingredientes, finalizando com queijo.",
                                        "Leve ao forno preaquecido a 180 °C por 30–35 minutos.",
                                        "Sirva quente, salpicado com orégano."
                                    ]
},
{
    "id": 3,
        "titulo": "Brigadeiro Gourmet",
            "descricao": "O docinho favorito com um toque especial.",
                "ocasiao": "Sirva em festas ou como sobremesa delicada.",
                    "prepTime": "25 minutos",
                        "dificuldade": "Fácil",
                            "images": [
                                { "id": 1, src: "assets/img/brigadeiro1.jpg", "legenda": "Brigadeiro em forma de amor" },
                                { "id": 2, src: "assets/img/brigadeiro2.jpg", "legenda": "Docinhos enrolados e prontos" },
                                { "id": 3, src: "assets/img/brigadeiro3.jpg", "legenda": "Detalhe do granulado artesanal" },
                                { "id": 4, src: "assets/img/brigadeiro4.jpg", "legenda": "Massa cremosa à base de cacau" }
                            ],
                                "ingredientes": [
                                    "1 lata de leite condensado",
                                    "1 colher (sopa) de manteiga",
                                    "2 colheres (sopa) de cacau em pó",
                                    "Chocolate granulado para enrolar"
                                ],
                                    "preparo": [
                                        "Em fogo baixo, misture leite condensado, manteiga e cacau.",
                                        "Mexa sem parar até desgrudar do fundo da panela.",
                                        "Transfira para um prato untado e deixe esfriar um pouco.",
                                        "Modele bolinhas com as mãos untadas e passe no granulado.",
                                        "Coloque em forminhas e sirva."
                                    ]
},
{
    "id": 4,
        "titulo": "Feijoada Completa",
            "descricao": "O prato mais brasileiro de todos.",
                "ocasiao": "Perfeita para um almoço de domingo em família.",
                    "prepTime": "2h 30 minutos",
                        "dificuldade": "Difícil",
                            "images": [
                                { "id": 1, src: "assets/img/feijoada1.png", "legenda": "Feijoada no prato já pronto" },
                                { "id": 2, src: "assets/img/feijoada2.png", "legenda": "Acompanhamentos tradicionais" },
                                { "id": 3, src: "assets/img/feijoada3.png", "legenda": "Prato servido com laranja e couve" },
                                { "id": 4, src: "assets/img/feijoada4.jpg", "legenda": "Carne seca e linguiça" }
                            ],
                                "ingredientes": [
                                    "500g de feijão preto",
                                    "300g de carne seca",
                                    "200g de paio",
                                    "200g de costelinha",
                                    "Alho, cebola, folha de louro, sal e pimenta"
                                ],
                                    "preparo": [
                                        "Deixe o feijão e as carnes de molho por 12 horas.",
                                        "Cozinhe o feijão com temperos até ficar macio.",
                                        "Em outra panela, refogue as carnes dessalgadas.",
                                        "Junte tudo e cozinhe até apurar o sabor.",
                                        "Sirva com arroz branco, couve refogada e farofa."
                                    ]
},
{
    "id": 5,
        "titulo": "Escondidinho de Carne",
            "descricao": "Recheio cremoso com purê de mandioca.",
                "ocasiao": "Ótimo para um jantar aconchegante.",
                    "prepTime": "1h 15 minutos",
                        "dificuldade": "Média",
                            "images": [
                                { "id": 1, src: "assets/img/escondidinho1.png", "legenda": "Escondidinho fresco na travessa" },
                                { "id": 2, src: "assets/img/escondidinho2.png", "legenda": "Camadas de purê e carne" },
                                { "id": 3, src: "assets/img/escondidinho3.png", "legenda": "Purê cremoso de mandioca" },
                                { "id": 4, src: "assets/img/escondidinho4.png", "legenda": "Finalização com queijo gratinado" }
                            ],
                                "ingredientes": [
                                    "500g de carne moída",
                                    "4 batatas grandes",
                                    "1 copo de leite",
                                    "2 colheres de manteiga",
                                    "Queijo ralado a gosto"
                                ],
                                    "preparo": [
                                        "Cozinhe e amasse as batatas com leite e manteiga.",
                                        "Refogue a carne moída com cebola e temperos.",
                                        "Monte: purê, carne e mais purê.",
                                        "Polvilhe queijo e leve ao forno até gratinar.",
                                        "Sirva quente."
                                    ]
},
{
    "id": 6,
        "titulo": "Torta de Limão",
            "descricao": "Refrescante, doce e com base crocante.",
                "ocasiao": "Sobremesa perfeita para dias quentes.",
                    "prepTime": "1h 30 minutos",
                        "dificuldade": "Média",
                            "images": [
                                { "id": 1, src: "assets/img/torta1.png", "legenda": "Corte mostrando recheio cremoso" },
                                { "id": 2, src: "assets/img/torta2.png", "legenda": "Raspas de limão para decorar" },
                                { "id": 3, src: "assets/img/torta3.png", "legenda": "Base de biscoito crocante" },
                                { "id": 4, src: "assets/img/torta4.png", "legenda": "Torta de limão pronta" }
                            ],
                                "ingredientes": [
                                    "1 pacote de biscoito maisena",
                                    "3 colheres de manteiga derretida",
                                    "1 lata de leite condensado",
                                    "Suco de 2 limões",
                                    "1 lata de creme de leite"
                                ],
                                    "preparo": [
                                        "Triture os biscoitos e misture com manteiga para a base.",
                                        "Forre uma forma e asse por 10 minutos a 180 °C.",
                                        "Misture leite condensado, suco de limão e creme de leite.",
                                        "Despeje sobre a base e leve à geladeira por 4 horas.",
                                        "Decore com raspas de limão antes de servir."
                                    ]
},
{
    "id": 7,
        "titulo": "Quiche de Alho-Poró",
            "descricao": "Perfeita para servir no lanche ou jantar leve.",
                "ocasiao": "Ótima para brunch ou piquenique.",
                    "prepTime": "50 minutos",
                        "dificuldade": "Fácil",
                            "images": [
                                { "id": 1, src: "assets/img/quiche1.png", "legenda": "Fatia servida" },
                                { "id": 2, src: "assets/img/quiche2.png", "legenda": "Recheio cremoso de alho-poró" },
                                { "id": 3, src: "assets/img/quiche3.png", "legenda": "Massa folhada dourada" },
                                { "id": 4, src: "assets/img/quiche4.png", "legenda": "Quiche recém saiu do forno" }
                            ],
                                "ingredientes": [
                                    "1 massa pronta para quiche",
                                    "2 talos de alho-poró fatiados",
                                    "3 ovos",
                                    "1 caixa de creme de leite",
                                    "Sal e noz-moscada a gosto"
                                ],
                                    "preparo": [
                                        "Refogue o alho-poró até amolecer.",
                                        "Bata ovos e creme de leite com sal e noz-moscada.",
                                        "Forre a massa, espalhe o alho-poró e despeje a mistura.",
                                        "Asse a 180 °C por 40–45 minutos.",
                                        "Sirva morno ou em temperatura ambiente."
                                    ]
},
{
    "id": 8,
        "titulo": "Panqueca de Frango",
            "descricao": "Com recheio cremoso e molho especial.",
                "ocasiao": "Almoço rápido e saboroso para a família.",
                    "prepTime": "45 minutos",
                        "dificuldade": "Fácil",
                            "images": [
                                { "id": 1, src: "assets/img/panqueca1.png", "legenda": "Panquecas recheadas prontas" },
                                { "id": 2, src: "assets/img/panqueca2.png", "legenda": "Inclua um molho especial por cima!" },
                                { "id": 3, src: "assets/img/panqueca3.png", "legenda": "Recheio de frango cremoso" },
                                { "id": 4, src: "assets/img/panqueca4.png", "legenda": "Panquecas prontas para serem consumidas" }
                            ],
                                "ingredientes": [
                                    "Massa de panqueca (ovo, leite, farinha)",
                                    "300g de frango cozido e desfiado",
                                    "Molho de tomate",
                                    "Queijo ralado a gosto"
                                ],
                                    "preparo": [
                                        "Prepare a massa e despeje na frigideira para formar discos.",
                                        "Recheie com frango e enrole as panquecas.",
                                        "Cubra com molho de tomate e queijo.",
                                        "Gratine no forno por 10–15 minutos.",
                                        "Sirva quente."
                                    ]
},
{
    "id": 9,
        "titulo": "Macarrão ao Alho e Óleo",
            "descricao": "Simplicidade e sabor em poucos minutos.",
                "ocasiao": "Ideal para um jantar rápido na semana.",
                    "prepTime": "20 minutos",
                        "dificuldade": "Fácil",
                            "images": [
                                { "id": 1, src: "assets/img/macarrao1.png", "legenda": "Macarrão com acompanhamento" },
                                { "id": 2, src: "assets/img/macarrao2.png", "legenda": "Macarrão acompanhado de tomates" },
                                { "id": 3, src: "assets/img/macarrao3.png", "legenda": "Manjericão fresco por cima" },
                                { "id": 4, src: "assets/img/macarrao4.png", "legenda": "Detalhe do prato servido" }
                            ],
                                "ingredientes": [
                                    "250g de macarrão",
                                    "3 dentes de alho fatiados",
                                    "4 colheres de sopa de azeite",
                                    "Sal e cheiro-verde a gosto"
                                ],
                                    "preparo": [
                                        "Cozinhe o macarrão conforme instruções da embalagem.",
                                        "Em uma frigideira, doure o alho no azeite sem queime.",
                                        "Misture o macarrão escorrido com o alho e o azeite.",
                                        "Finalize com cheiro-verde e sirva imediatamente."
                                    ]
}
  ]};

  /*CARROSEL*/
  if (document.getElementById('ads')) { 
    const receitasDestaque = dados.receitas.slice(0, 3);

    let indicadoresHTML = '';
    receitasDestaque.forEach((receita, i) => {
      indicadoresHTML += `
        <button
          type="button"
          data-bs-target="#ads"
          data-bs-slide-to="${i}"
          ${i === 0 ? 'class="active" aria-current="true"' : ''}
          aria-label="Slide ${i+1}">
        </button>
      `;
    });
    document.querySelector('#ads .carousel-indicators').innerHTML = indicadoresHTML;
  
    let innerHTML = '';
    receitasDestaque.forEach((r, i) => {
      innerHTML += `
        <div class="carousel-item ${i === 0 ? 'active' : ''}" data-bs-interval="3000">
          <a href="detalhes.html?id=${r.id}">
            <img
              src="${r.images[0].src}"
              class="d-block w-100"
              alt="${r.titulo}">
            <div class="carousel-caption d-none d-md-block">
              <h5>${r.titulo}</h5>
              <p>${r.descricao}</p>
            </div>
          </a>
        </div>
      `;
    });
    document.querySelector('#ads .carousel-inner').innerHTML = innerHTML;
  }

  /*CARDS*/
  if (document.getElementById('container-cards')) {
    const todas = dados.receitas;
    let txtHTMLCards = '';
  
    for (let i = 0; i < todas.length; i++) {
      const r = todas[i];
      txtHTMLCards += `
        <div class="col">
          <div class="card h-100">
            <a href="detalhes.html?id=${r.id}">
              <img src="${r.images[0].src}"
                   class="card-img-top"
                   alt="${r.titulo}">
            </a>
            <div class="card-body">
              <h5 class="card-title">${r.titulo}</h5>
              <h6 class="card-subtitle mb-2">${r.ocasiao}</h6>
              <p class="card-text">
                ${r.descricao}
              </p>
              <a href="detalhes.html?id=${r.id}" class="link-light">
                <button type="button"
                        class="btn"
                        style="background-color:#4c9628;">
                  Ver mais
                </button>
              </a>
            </div>
          </div>
        </div>
      `;
    }
  
    document.getElementById('container-cards').innerHTML = txtHTMLCards;
  }

  /*Página Detalhes*/
  document.addEventListener('DOMContentLoaded', () => {

    //id
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get('id'), 10);
    const receita = dados.receitas.find(r => r.id === id) || dados.receitas[0];
  
    //título
    const tituloEl = document.querySelector('main .display-5.text-center');
    if (tituloEl) tituloEl.textContent = receita.titulo;
  
    //imagem da receita
    const imgPrincipal = document.querySelector('.div-img .img-conteudo');
    if (imgPrincipal) {
      imgPrincipal.src = receita.images[0].src;
      imgPrincipal.alt = receita.titulo;
    }
  
    //dica de ocasião
    const subtituloEl = document.querySelector('.titulo-2');
    if (subtituloEl) subtituloEl.textContent = receita.ocasiao;
  
    //descrição
    const descEl = document.querySelector('.texto-layout');
    if (descEl) descEl.textContent = receita.descricao;
  
    //tempo de preparo
    const tempoP = document.querySelector('.fa-clock-o')
      ?.closest('.card-body')
      .querySelector('.texto-card');
    if (tempoP) tempoP.textContent = receita.prepTime;
  
    //nível de dificuldade da receita
    const diffP = document.querySelector('.fa-cutlery')
      ?.closest('.card-body')
      .querySelector('.texto-card');
    if (diffP) diffP.textContent = receita.dificuldade;
  
    //ingredientes
    const ulIng = document.getElementById('ingredientes');
    if (ulIng) {
      ulIng.innerHTML = '';
      receita.ingredientes.forEach(item => {
        const li = document.createElement('li');
        li.className = 'col-md-6';
        li.innerHTML = `<p>${item}</p>`;
        ulIng.appendChild(li);
      });
    }
  
    //modo de preparo
    const olPrep = document.getElementById('modo-de-preparo');
    if (olPrep) {
      olPrep.innerHTML = '';
      receita.preparo.forEach(step => {
        const li = document.createElement('li');
        li.textContent = step;
        olPrep.appendChild(li);
      });
    }
  
    //fotos da receita
    const fotosContainer = document.querySelector('.fotos-item');
    if (fotosContainer) {
      fotosContainer.innerHTML = '';
      receita.images.forEach(imgObj => {
        const div = document.createElement('div');
        div.className = 'col-md-3 text-center';
        div.innerHTML = `
          <img
            src="${imgObj.src}"
            class="img-thumbnail img-fluid"
            alt="${imgObj.legenda}"
            style="height: 300px; width: 200px;">
          <p class="text-break mt-2">${imgObj.legenda}</p>
        `;
        fotosContainer.appendChild(div);
      });
    }
  });